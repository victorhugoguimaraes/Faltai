{"version":3,"file":"static/js/693.86c24618.chunk.js","mappings":"4KAmPA,QA9OA,SAAyBA,GAAmC,IAAlC,iBAAEC,EAAgB,UAAEC,GAAWF,EACvD,MAAM,SAAEG,EAAQ,cAAEC,IAAkBC,EAAAA,EAAAA,MAC9B,SAAEC,EAAQ,WAAEC,IAAeC,EAAAA,EAAAA,MAE1BC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,KAC1BC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,KAC5BG,EAAWC,IAAgBJ,EAAAA,EAAAA,UAAS,MACpCK,EAAYC,IAAiBN,EAAAA,EAAAA,UAAS,KACtCO,EAAeC,IAAoBR,EAAAA,EAAAA,UAAS,CACjDS,KAAM,GACNC,KAAM,GACNC,UAAW,MAENC,EAAmBC,IAAwBb,EAAAA,EAAAA,WAAS,GAY3D,OAVAc,EAAAA,EAAAA,YAAU,KACR,GAAkB,OAAdvB,GAAsBC,GAAYA,EAASD,GAAY,CACzD,MAAMwB,EAAUvB,EAASD,GACzBQ,EAAQiB,OAAOD,EAAQjB,MAAQ,KAC/BI,EAASc,OAAOD,EAAQd,OAAS,KACjCG,EAAaY,OAAOD,EAAQZ,WAAa,MACzCG,EAAcW,MAAMC,QAAQH,EAAQV,YAAcU,EAAQV,WAAa,GACzE,IACC,CAACd,EAAWC,IAEG,OAAdD,GAAuBC,GAAaA,EAASD,IAkD/C4B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iFAAgFC,UAC7FC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,0CAAyCC,SAAA,EACtDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,sCAAqCC,SAAC,uBACpDF,EAAAA,EAAAA,KAAA,UACEI,QAASA,IAAMjC,GAAiB,GAChC8B,UAAU,oCAAmCC,UAE7CF,EAAAA,EAAAA,KAACK,EAAAA,IAAO,UAIZF,EAAAA,EAAAA,MAAA,QAAMG,SA1DSC,UAEnB,GADAC,EAAEC,iBACG9B,GAASG,EAKd,IACE,MAAM4B,EAAYC,KAAKC,MAAyB,IAAlBC,SAAS/B,GAAiB+B,SAAS7B,IAC3D8B,EAAoB,IACrBzC,EAASD,GACZO,KAAMkB,OAAOlB,GACbG,MAAOiC,OAAOjC,GACdE,UAAW+B,OAAO/B,GAClB0B,UAAWK,OAAOL,GAClBxB,WAAYA,GAAc,UAGtBZ,EAAcF,EAAW0C,GAC/BrC,EAAW,mCACXN,GAAiB,EACnB,CAAE,MAAO6C,GACPxC,EAAS,6BACTyC,QAAQD,MAAM,QAASA,EACzB,MArBExC,EAAS,2CAqBX,EAkCkCyB,UAAU,YAAWC,SAAA,EACjDC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,+CAA8CC,SAAC,wBAGhEF,EAAAA,EAAAA,KAAA,SACEkB,KAAK,OACLC,MAAOxC,EACPyC,SAAWZ,GAAM5B,EAAQ4B,EAAEa,OAAOF,OAClClB,UAAU,qCACVqB,YAAY,mBACZC,UAAQ,QAIZpB,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,+CAA8CC,SAAC,sBAGhEC,EAAAA,EAAAA,MAAA,UACEgB,MAAOrC,EACPsC,SAAWZ,GAAMzB,EAASyB,EAAEa,OAAOF,OACnClB,UAAU,qCACVsB,UAAQ,EAAArB,SAAA,EAERF,EAAAA,EAAAA,KAAA,UAAQmB,MAAM,GAAEjB,SAAC,eACjBF,EAAAA,EAAAA,KAAA,UAAQmB,MAAM,KAAIjB,SAAC,cACnBF,EAAAA,EAAAA,KAAA,UAAQmB,MAAM,KAAIjB,SAAC,cACnBF,EAAAA,EAAAA,KAAA,UAAQmB,MAAM,KAAIjB,SAAC,cACnBF,EAAAA,EAAAA,KAAA,UAAQmB,MAAM,KAAIjB,SAAC,cACnBF,EAAAA,EAAAA,KAAA,UAAQmB,MAAM,KAAIjB,SAAC,cACnBF,EAAAA,EAAAA,KAAA,UAAQmB,MAAM,MAAKjB,SAAC,qBAIxBC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,+CAA8CC,SAAC,mBAGhEC,EAAAA,EAAAA,MAAA,UACEgB,MAAOnC,EACPoC,SAAWZ,GAAMvB,EAAauB,EAAEa,OAAOF,OACvClB,UAAU,qCAAoCC,SAAA,EAE9CF,EAAAA,EAAAA,KAAA,UAAQmB,MAAM,IAAGjB,SAAC,qBAClBF,EAAAA,EAAAA,KAAA,UAAQmB,MAAM,IAAGjB,SAAC,sBAClBF,EAAAA,EAAAA,KAAA,UAAQmB,MAAM,IAAGjB,SAAC,4BAItBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,UAC5BC,EAAAA,EAAAA,MAAA,UACEe,KAAK,SACLd,QAASA,IAAMV,GAAsBD,GACrCQ,UAAU,8DAA6DC,SAAA,EAEvEF,EAAAA,EAAAA,KAACwB,EAAAA,IAAM,CAACvB,UAAU,SAAS,IAAER,EAAoB,2BAAuB,kCAI3EA,IACCU,EAAAA,EAAAA,MAAAsB,EAAAA,SAAA,CAAAvB,SAAA,EACEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,KAAA,SACEkB,KAAK,OACLC,MAAO/B,EAAcE,KACrB8B,SAAWZ,GAAMnB,GAAiBqC,IAAI,IAAUA,EAAMpC,KAAMkB,EAAEa,OAAOF,UACrElB,UAAU,8BACVqB,YAAY,2CACZC,UAAQ,KAEVvB,EAAAA,EAAAA,KAAA,SACEkB,KAAK,OACLC,MAAO/B,EAAcG,KACrB6B,SAAWZ,GAAMnB,GAAiBqC,IAAI,IAAUA,EAAMnC,KAAMiB,EAAEa,OAAOF,UACrElB,UAAU,qCACVsB,UAAQ,QAGZpB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,KAAA,SACEkB,KAAK,OACLC,MAAO/B,EAAcI,UACrB4B,SAAWZ,GAAMnB,GAAiBqC,IAAI,IAAUA,EAAMlC,UAAWgB,EAAEa,OAAOF,UAC1ElB,UAAU,qCACVqB,YAAY,gCAEdtB,EAAAA,EAAAA,KAAA,UACEkB,KAAK,SACLd,QAzHSuB,KACpBvC,EAAcE,MAASF,EAAcG,MAK1CJ,GAAcuC,GAAQ,IAAIA,EAAM,IAAKtC,EAAewC,GAAIC,KAAKC,UAC7DzC,EAAiB,CACfC,KAAM,GACNC,KAAM,GACNC,UAAW,MARXhB,EAAS,4DAST,EA+GcyB,UAAU,gEAA+DC,SAC1E,qBAMLF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qCAAoCC,SAChDhB,EAAW6C,KAAIC,IACd7B,EAAAA,EAAAA,MAAA,OAEEF,UAAU,8DAA6DC,SAAA,EAEvEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,8BAA6BC,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kEAAiEC,SAC7E8B,EAAG1C,QAENa,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBAAqBC,SAC/B,IAAI2B,KAAKG,EAAGzC,MAAM0C,mBAAmB,WAEvCD,EAAGxC,YACFQ,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wBAAuBC,SAAE8B,EAAGxC,mBAI/CQ,EAAAA,EAAAA,KAAA,UACEkB,KAAK,SACLd,QAASA,KAAM8B,OAxITN,EAwI0BI,EAAGJ,QAvIrDzC,GAAcuC,GAAQA,EAAKS,QAAOH,GAAMA,EAAGJ,KAAOA,MAD1BA,KAwIiC,EACvC3B,UAAU,mCAAkCC,UAE5CF,EAAAA,EAAAA,KAACK,EAAAA,IAAO,QArBL2B,EAAGJ,YA6BlBzB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,kCAAiCC,SAAA,EAC9CF,EAAAA,EAAAA,KAAA,UACEkB,KAAK,SACLd,QAASA,IAAMjC,GAAiB,GAChC8B,UAAU,8CAA6CC,SACxD,cAGDF,EAAAA,EAAAA,KAAA,UACEkB,KAAK,SACLjB,UAAU,gEAA+DC,SAC1E,sBA1MF,IAkNX,C","sources":["components/EditMateriaModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FaTimes, FaPlus } from 'react-icons/fa';\r\nimport { useMaterias } from '../contexts/MateriasContext';\r\nimport { useError } from '../contexts/ErrorContext';\r\n\r\nfunction EditMateriaModal({ setEditModalOpen, editIndex }) {\r\n  const { materias, editarMateria } = useMaterias();\r\n  const { addError, addSuccess } = useError();\r\n  \r\n  const [nome, setNome] = useState('');\r\n  const [horas, setHoras] = useState('');\r\n  const [pesoFalta, setPesoFalta] = useState('1');\r\n  const [avaliacoes, setAvaliacoes] = useState([]);\r\n  const [novaAvaliacao, setNovaAvaliacao] = useState({\r\n    tipo: '',\r\n    data: '',\r\n    descricao: ''\r\n  });\r\n  const [mostrarAvaliacoes, setMostrarAvaliacoes] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (editIndex !== null && materias && materias[editIndex]) {\r\n      const materia = materias[editIndex];\r\n      setNome(String(materia.nome || ''));\r\n      setHoras(String(materia.horas || ''));\r\n      setPesoFalta(String(materia.pesoFalta || '1'));\r\n      setAvaliacoes(Array.isArray(materia.avaliacoes) ? materia.avaliacoes : []);\r\n    }\r\n  }, [editIndex, materias]);\r\n\r\n  if (editIndex === null || !materias || !materias[editIndex]) {\r\n    return null;\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!nome || !horas) {\r\n      addError('Preencha todos os campos obrigatórios');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const maxFaltas = Math.floor((parseInt(horas) * 0.25) / parseInt(pesoFalta));\r\n      const materiaAtualizada = {\r\n        ...materias[editIndex],\r\n        nome: String(nome),\r\n        horas: Number(horas),\r\n        pesoFalta: Number(pesoFalta),\r\n        maxFaltas: Number(maxFaltas),\r\n        avaliacoes: avaliacoes || []\r\n      };\r\n\r\n      await editarMateria(editIndex, materiaAtualizada);\r\n      addSuccess('Matéria editada com sucesso!');\r\n      setEditModalOpen(false);\r\n    } catch (error) {\r\n      addError('Erro ao salvar matéria');\r\n      console.error('Erro:', error);\r\n    }\r\n  };\r\n\r\n  const adicionarAvaliacao = () => {\r\n    if (!novaAvaliacao.tipo || !novaAvaliacao.data) {\r\n      addError('Tipo e data são obrigatórios para a avaliação');\r\n      return;\r\n    }\r\n\r\n    setAvaliacoes(prev => [...prev, { ...novaAvaliacao, id: Date.now() }]);\r\n    setNovaAvaliacao({\r\n      tipo: '',\r\n      data: '',\r\n      descricao: ''\r\n    });\r\n  };\r\n\r\n  const removerAvaliacao = (id) => {\r\n    setAvaliacoes(prev => prev.filter(av => av.id !== id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-xl font-semibold text-gray-800\">Editar Matéria</h2>\r\n          <button\r\n            onClick={() => setEditModalOpen(false)}\r\n            className=\"text-gray-500 hover:text-gray-700\"\r\n          >\r\n            <FaTimes />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Nome da Matéria\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={nome}\r\n              onChange={(e) => setNome(e.target.value)}\r\n              className=\"w-full px-3 py-2 border rounded-md\"\r\n              placeholder=\"Ex: Cálculo 1\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Carga Horária\r\n            </label>\r\n            <select\r\n              value={horas}\r\n              onChange={(e) => setHoras(e.target.value)}\r\n              className=\"w-full px-3 py-2 border rounded-md\"\r\n              required\r\n            >\r\n              <option value=\"\">Selecione</option>\r\n              <option value=\"30\">30 horas</option>\r\n              <option value=\"45\">45 horas</option>\r\n              <option value=\"60\">60 horas</option>\r\n              <option value=\"75\">75 horas</option>\r\n              <option value=\"90\">90 horas</option>\r\n              <option value=\"120\">120 horas</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Peso da Falta\r\n            </label>\r\n            <select\r\n              value={pesoFalta}\r\n              onChange={(e) => setPesoFalta(e.target.value)}\r\n              className=\"w-full px-3 py-2 border rounded-md\"\r\n            >\r\n              <option value=\"1\">1 falta por vez</option>\r\n              <option value=\"2\">2 faltas por vez</option>\r\n              <option value=\"4\">4 faltas por vez</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"border-t pt-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setMostrarAvaliacoes(!mostrarAvaliacoes)}\r\n              className=\"text-blue-600 hover:text-blue-700 text-sm flex items-center\"\r\n            >\r\n              <FaPlus className=\"mr-1\" /> {mostrarAvaliacoes ? 'Ocultar Avaliações' : 'Adicionar Avaliações'}\r\n            </button>\r\n          </div>\r\n\r\n          {mostrarAvaliacoes && (\r\n            <>\r\n              <div className=\"space-y-3 mb-4\">\r\n                <div className=\"flex gap-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={novaAvaliacao.tipo}\r\n                    onChange={(e) => setNovaAvaliacao(prev => ({ ...prev, tipo: e.target.value }))}\r\n                    className=\"px-3 py-2 border rounded-md\"\r\n                    placeholder=\"Tipo (ex: Prova, Trabalho, Seminário)\"\r\n                    required\r\n                  />\r\n                  <input\r\n                    type=\"date\"\r\n                    value={novaAvaliacao.data}\r\n                    onChange={(e) => setNovaAvaliacao(prev => ({ ...prev, data: e.target.value }))}\r\n                    className=\"flex-1 px-3 py-2 border rounded-md\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={novaAvaliacao.descricao}\r\n                    onChange={(e) => setNovaAvaliacao(prev => ({ ...prev, descricao: e.target.value }))}\r\n                    className=\"flex-1 px-3 py-2 border rounded-md\"\r\n                    placeholder=\"Descrição (opcional)\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={adicionarAvaliacao}\r\n                    className=\"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n                  >\r\n                    Adicionar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2 max-h-40 overflow-y-auto\">\r\n                {avaliacoes.map(av => (\r\n                  <div\r\n                    key={av.id}\r\n                    className=\"flex items-center justify-between bg-gray-50 p-2 rounded-md\"\r\n                  >\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <div className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium\">\r\n                        {av.tipo}\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm font-medium\">\r\n                          {new Date(av.data).toLocaleDateString('pt-BR')}\r\n                        </p>\r\n                        {av.descricao && (\r\n                          <p className=\"text-xs text-gray-500\">{av.descricao}</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => removerAvaliacao(av.id)}\r\n                      className=\"text-gray-400 hover:text-red-500\"\r\n                    >\r\n                      <FaTimes />\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <div className=\"flex justify-end space-x-2 pt-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setEditModalOpen(false)}\r\n              className=\"px-4 py-2 text-gray-600 hover:text-gray-800\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n            >\r\n              Salvar\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditMateriaModal;\r\n"],"names":["_ref","setEditModalOpen","editIndex","materias","editarMateria","useMaterias","addError","addSuccess","useError","nome","setNome","useState","horas","setHoras","pesoFalta","setPesoFalta","avaliacoes","setAvaliacoes","novaAvaliacao","setNovaAvaliacao","tipo","data","descricao","mostrarAvaliacoes","setMostrarAvaliacoes","useEffect","materia","String","Array","isArray","_jsx","className","children","_jsxs","onClick","FaTimes","onSubmit","async","e","preventDefault","maxFaltas","Math","floor","parseInt","materiaAtualizada","Number","error","console","type","value","onChange","target","placeholder","required","FaPlus","_Fragment","prev","adicionarAvaliacao","id","Date","now","map","av","toLocaleDateString","removerAvaliacao","filter"],"sourceRoot":""}